<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/base.css">

    <title>{% block title %}{% endblock title %}</title>
    {% block head %}

    {% endblock head %}
</head>

<body>
    <main>
        <h1>
            {% block page_title %}{% endblock page_title %}
        </h1>
        {% block content %}
        {% endblock content %}
    </main>

    {% block js %}

    {% endblock js %}

    <script>
        function confirmDelete(event, delete_url, redirect_to) {
            event.preventDefault();
            if (confirm("Are you sure you want to delete this item?")) {
                var xhr = new XMLHttpRequest();
                xhr.open("DELETE", delete_url, true);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        window.location.href = redirect_to;
                    }
                };
                xhr.send();
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.add-more').forEach(button => {
                button.addEventListener('click', function () {
                    const group = this.getAttribute('data-group');
                    const first = document.getElementById(`${group}-inputs`).querySelector('input');
                    if (first) {
                        const clonedInput = first.cloneNode();
                        clonedInput.value = '';
                        const container = document.getElementById(`${group}-inputs`);
                        container.appendChild(clonedInput);
                    }
                });
            });
        });
    </script>
</body>

</html>